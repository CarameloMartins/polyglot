{"name":"Polyglot","tagline":"A language detector written in Python 2.7.","body":"It's heavily inspired in <a href=\"https://github.com/github/linguist\"> Linguist </a> by GitHub.\r\n\r\nThis project was born as a learning experience with the Python language. It's  meant to be taken seriously but, still, is far from what Linguist is capable of.\r\n\r\nWe still have a lot to work on.\r\n\r\n\tNAME:\r\n        \tpolyglot - Know your languages. A language detector written in Python 2.7.\r\n\tUSAGE:\r\n        \tpython polyglot.py [options] [args]\r\n\tVERSION:\r\n        \t0.0.3\r\n  \tOPTIONS:\r\n\t        -p\tprint programming languages only\r\n\t        -d\tprint data files only\r\n            -m  print markup files only\r\n\t        -a\tprint every file\r\n\t        --json\tused before any of the above to produce JSON output\r\n        \r\n## Usage\r\n\r\nPolyglot can be used a stand-alone application, it can be imported as a module or it can be used as a backend script producing JSON.\r\nFurthermore, there is a debug unknown languages option and several flags to choose from.\r\n\r\n### Arguments\r\n\r\nWhen running Polyglot, as an app or by importing it as a module, there are some variants you can opt for. \r\nThere are flags that narrow down the search to a specific type of file and also a debug option that includes unknown files in the output. You can read about them in the flags and debug chapters.\r\n\r\nThe only required argument is the file name that can be a relative or absolute path or just a file name (in which case Polyglot will try to find the file path). The optional flag argument must be one of the following strings `[\"all\", \"programming\", \"data\", \"markup\"]`. `\"all\"` is the default value. Additionally, you can also use the `--json` option along with one of the flags to receive the output as valid JSON.\r\nThe debug argument can either be True or False, being False the default value.\r\n\r\n#### Flags\r\n\r\nApart from this, there are still some flags that impact the output of polyglot. If you run with `-h` option you can see all of them:\r\n\r\n    $ python polyglot.py -h\r\n    \r\n    Polyglot supports the following searches:\r\n        -p  \tprogramming languages only\r\n        -d  \tdata files only\r\n        -m      markup files only\r\n        -a  \tevery file\r\n        --json \tused before any of the above to produce JSON output\r\n        -h  \tprint help menu\r\n    \t\r\nThe `-a` flag is used by default if no option is used. The `--json` flag is by default set to `False`. \r\n\r\n#### Debug\r\n\r\nThe debug option is a specific variable located at the top of the `polyglot.py` file which is `False` by default.\r\nWith the debug option:\r\n\r\n    $ python polyglot.py ../polyglot/\r\n    \r\n    ** Python: 60.0%\r\n    \tpolyglot\\heuristics.py\r\n    \tpolyglot\\polyglot.py\r\n    \tpolyglot\\__init__.py\r\n\r\n    ** YAML: 40.0%\r\n    \tpolyglot\\languages.yml\r\n    \tpolyglot\\syntax.yml\r\n    Unknown extensions:\r\n    'txt', 'pyc'\r\n\r\n### Stand-alone app\r\n\r\nThere are two ways of running it as an app: with or without the debug unknown languages' option. The debug option is a specific variable located at the top of the `polyglot.py` file which is `False` by default.\r\n\r\nRunning the program on its own `polyglot/` folder in it's simplest form (without any flags or the debug option):\r\n\r\n    $ python polyglot.py ../polyglot/\r\n    \r\n    ** Python: 60.0%\r\n    \tpolyglot\\heuristics.py\r\n    \tpolyglot\\polyglot.py\r\n    \tpolyglot\\__init__.py\r\n\r\n    ** YAML: 40.0%\r\n    \tpolyglot\\languages.yml\r\n    \tpolyglot\\syntax.yml\r\n\r\n### Module\r\n\r\nIf you want to integrate Polyglot in a different application, there is the possibility of importing it as a module. \r\nAn simple example of this usage would be the following script:\r\n\r\n\timport polyglot\r\n\r\n\tfileName, flag = parseCommandLine()\r\n\t    \r\n\tif flag == -1:\r\n\t\texit()\r\n\r\n\tpoly = polyglot.Polyglot (fileName, flag)\r\n\tresults = poly.startPolyglot()\r\n\r\n\tprint results\r\n\r\nNow an example that enables the debug option:\r\n\r\n\timport polyglot\r\n\r\n\tfileName, flag = polyglot.parseCommandLine()\r\n\t    \r\n\tif flag == -1:\r\n\t\texit()\r\n\r\n\tpoly = polyglot.Polyglot (fileName, flag, True)\r\n\tresults = poly.startPolyglot()\r\n\r\n\tprint \"Files recognized:\\n \", results[0]\r\n\tprint \"Files not recognized: \\n\", results[1]\r\n\r\nAs you can see, if the debug option is enabled Polyglot will return a tuple containing the language statistics dictionary in it's first index and an array containing every unkown extension found (stuff like build and compiled files will be the vast majority of what you see here).\r\n\r\n### JSON output\r\n\r\nIf you want to get JSON output instead of those nasty strings, being it for use in a backend script with PHP or because you want to integrate the module with another language, this would be the result:\r\n\r\n    $ python polyglot.py --json ../polyglot/\r\n    \r\n\t{\r\n\t    \"Python\": 0.6,\r\n\t    \"YAML\": 0.4,\r\n\t    \"nFiles\": 5\r\n\t}\r\n\r\n## Dependencies\r\n\r\n- <a href=\"http://http://pyyaml.org/\">PyYAML</a>\r\n\r\n## Language Detection\r\n\r\nLanguage detection works in three stages. If any of the stages succeds in identifying the file language, the next stages are not executed.\r\n\r\nFirst, there is the basic detection stage, in which Polyglot tries to match the file extension with a language stored in a .yml file. If a file with a ambiguous extension (like .pl) is found, this stage fails and Polyglot moves on to the next stage of detection.\r\n\r\nAfter that, there is the heuristics stage, in which Polyglot tries to disambiguate between multiple languages that can be assigned to a file.\r\n\r\nLastly, there is the (as of yet non-existent) classifier stage. This feature isn't implemented yet as we would like to solidify the basis of Polyglot before we move on.\r\n\r\n### Basic Detection\r\n\r\nFirst we run a simple extension analyzer. Since most filename extensions aren't common to several languages, in most cases, specially with simple projects this works like a charm and is quite fast.\r\n\r\nWe run the `runAnalysis` recursively. This function differentiates between directories and files. If it's running with a file as an argument it calls `updateStats` to update the info or, if it finds a directory, it runs itself with every file it finds as an argument.\r\n\r\n### Heuristics\r\n\r\nFor extensions that Polyglot can't assign to a single language like '.pl' (Prolog and Perl) or '.h' (headers of most C variants), heuristics are employed to find the language in function of what's written on the file. Some language specific syntax strings (like ':-' for Prolog) are used as a way to disambiguate between languages. For now it's pretty indecent but it'll work just fine.\r\n\r\n### Classifier\r\n\r\nFor extensions that cannot be disambiguated by the application of heuristics we are building a statistical classifier that determines what is the most likely language for the file in question.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}